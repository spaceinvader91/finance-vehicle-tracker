<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finance & Vehicle Tracker</title>
    <link rel="stylesheet" href="StyleSheet.css" />
</head>
<body>
    <!-- Tab Navigation -->
    <div class="tab">
        <button class="tablinks" onclick="openTab('finance')" id="defaultOpen">Finance Tracker</button>
        <button class="tablinks" onclick="openTab('vehicles')">Vehicle Tracker</button>
        <button onclick="clearLocalData()">Clear Local Data</button>
    </div>

    <!-- Data Management Section: Export / Import -->
    <div class="data-management">
        <button onclick="exportLocalData()">Export Data</button>
        <button onclick="triggerImport()">Import Data</button>
        <input type="file" id="importFile" onchange="importLocalData(event)" accept="application/json" style="display: none;" />
    </div>

    <!-- Finance Tracker Tab -->
    <div id="finance" class="tabcontent">
        <div class="finance-columns">
            <!-- Left Column: Personal Finance Header, Income & Direct Debits -->
            <div class="column-left">
                <header class="data-entry">
                    <h1>Personal Finance Tracker</h1>
                    <p id="dateTime"></p>
                    <p>Next Payday: <span id="nextPayday">N/A</span></p>
                    <button id="refreshButton" onclick="updateSummary()">Refresh Data</button>
                </header>

                <section id="incomeSection" class="data-entry">
                    <h2>Money In</h2>
                    <label for="incomeSource">Income Source:</label>
                    <input type="text" id="incomeSource" placeholder="Income Source" />
                    <br />
                    <label for="incomeAmount">Amount:</label>
                    <input type="number" id="incomeAmount" placeholder="Amount" />
                    <br />
                    <button onclick="addIncome()">Add/Update Income</button>
                    <ul id="incomeList"></ul>
                </section>

                <section id="directDebits" class="data-entry">
                    <h2>Direct Debits</h2>
                    <label for="debitCompany">Company Name:</label>
                    <input type="text" id="debitCompany" placeholder="Company Name" />
                    <br />
                    <label for="debitAmount">Amount:</label>
                    <input type="number" id="debitAmount" placeholder="Amount" />
                    <br />
                    <label for="debitDay">Payment Day:</label>
                    <input type="number" id="debitDay" placeholder="Payment Day" />
                    <br />
                    <label for="currencySelector">Currency:</label>
                    <select id="currencySelector">
                        <option value="€">€ EUR</option>
                        <option value="£">£ GBP</option>
                    </select>
                    <br />
                    <button onclick="addDebit()">Add Direct Debit</button>
                    <button onclick="toggleDebitList()">Toggle Direct Debits List</button>
                    <p id="totalDebits">Total Direct Debits: <strong>€0.00</strong></p>
                    <ul id="debitList"></ul>
                </section>
            </div>

            <!-- Right Column: Summary, Savings, and Monthly Spending -->
            <div class="column-right">
                <section id="summary" class="data-entry">
                    <h2>Summary</h2>
                    <p>Total Money In: <strong id="summary-income">€0.00</strong></p>
                    <p>Total Money Out: <strong id="summary-out">€0.00</strong></p>
                    <p>Net Savings: <strong id="summary-net">€0.00</strong></p>
                    <p>Estimated Target Date: <strong id="targetDate">N/A</strong></p>
                    <p>Period: <span id="periodDays">0 days</span></p>
                </section>

                <section id="savingsSection" class="data-entry">
                    <h2>Savings Tracker</h2>
                    <p>
                        Current Savings:
                        <input type="number" id="currentSavings" onchange="updateSummary()" />
                    </p>
                    <p>
                        Savings Target:
                        <input type="number" id="savingsTarget" onchange="updateSummary()" />
                    </p>
                </section>

                <section id="monthlySpending" class="data-entry">
                    <h2>Monthly Spending Calculator</h2>
                    <p>
                        Weekly Spending Limit:
                        <input type="number" id="weeklySpend" onchange="updateSummary()" />
                    </p>
                </section>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
