<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finance & Vehicle Tracker</title>
    <link rel="stylesheet" href="StyleSheet.css" />
</head>
<body>
    <!-- Main Header -->
    <header class="main-header">
        <h1>Personal Finance Tracker</h1>
    </header>

    <!-- Tab Navigation -->
    <div class="tab">
        <button class="tablinks" onclick="openTab('finance')" id="defaultOpen">Finance Tracker</button>
        <button class="tablinks" onclick="openTab('vehicles')">Vehicle Tracker</button>
        <button onclick="clearLocalData()">Clear Local Data</button>
    </div>

    <!-- Data Management Section -->
    <div class="data-management">
        <button onclick="exportLocalData()">Export Data</button>
        <button onclick="triggerImport()">Import Data</button>
        <input type="file" id="importFile" onchange="importLocalData(event)" accept="application/json" style="display: none;">
    </div>

    <!-- Finance Tracker Tab Content with 5 Columns -->
    <div id="finance" class="tabcontent">
        <div class="finance-grid">
            <!-- Column 1: Summary -->
            <section id="summary" class="data-entry">
                <h2>Summary</h2>
                <p>Total Money In: <strong id="summary-income">€0.00</strong></p>
                <p>Total Money Out: <strong id="summary-out">€0.00</strong></p>
                <p>Net Savings: <strong id="summary-net">€0.00</strong></p>
                <p>Next Payday: <strong id="nextPayday">N/A</strong></p>
                <p>Estimated Target Date: <strong id="targetDate">N/A</strong></p>
                <button id="refreshButton">Refresh Data</button>
            </section>

            <!-- Column 2: Money In -->
            <section id="incomeSection" class="data-entry">
                <h2>Money In</h2>
                <label for="incomeSource">Income Source:</label>
                <input type="text" id="incomeSource" placeholder="Income Source" />
                <br />
                <label for="incomeAmount">Amount:</label>
                <input type="number" id="incomeAmount" placeholder="Amount" />
                <br />
                <button onclick="addIncome()">Add/Update Income</button>
                <ul id="incomeList"></ul>
            </section>

            <!-- Column 3: Monthly Spending -->
            <section id="monthlySpending" class="data-entry">
                <h2>Monthly Spending Calculator</h2>
                <p>
                    Weekly Spending Limit:
                    <input type="number" id="weeklySpend" onchange="updateSummary()" />
                </p>
            </section>

            <!-- Column 4: Savings Tracker -->
            <section id="savingsSection" class="data-entry">
                <h2>Savings Tracker</h2>
                <p>
                    Current Savings:
                    <input type="number" id="currentSavings" onchange="updateSummary()" />
                </p>
                <p>
                    Savings Target:
                    <input type="number" id="savingsTarget" onchange="updateSummary()" />
                </p>
            </section>

            <!-- Column 5: Direct Debits -->
            <section id="directDebits" class="data-entry">
                <h2>Direct Debits</h2>
                <label for="debitCompany">Company Name:</label>
                <input type="text" id="debitCompany" placeholder="Company Name" />
                <br />
                <label for="debitAmount">Amount:</label>
                <input type="number" id="debitAmount" placeholder="Amount" />
                <br />
                <label for="debitDay">Payment Day:</label>
                <input type="number" id="debitDay" placeholder="Payment Day" />
                <br />
                <!-- Change currency selection from dropdown to a switch -->
                <label>Currency:</label>
                <div class="currency-switch">
                    <span class="currency-label">EUR</span>
                    <label class="switch">
                        <input type="checkbox" id="currencySwitch">
                        <span class="slider round"></span>
                    </label>
                    <span class="currency-label">GBP</span>
                </div>
                <br />
                <button onclick="addDebit()">Add Direct Debit</button>
                <button onclick="toggleDebitList()">Toggle Direct Debits List</button>
                <p id="totalDebits">Total Direct Debits: <strong>€0.00</strong></p>
                <ul id="debitList" class="collapsed"></ul>
            </section>
        </div>
    </div>

    <!-- Vehicle Tracker Tab Content -->
    <div id="vehicles" class="tabcontent">
        <h2 style="text-align: center;">Vehicle Renewal Tracker</h2>
        <div class="vehicle-container">
            <!-- Vehicle 1 -->
            <section class="vehicle-entry data-entry">
                <h3>Ford Fiesta</h3>
                <label>MOT Renewal Date:</label>
                <input type="date" id="vehicle1Mot" />
                <br />
                <label>Insurance Renewal Date:</label>
                <input type="date" id="vehicle1Insurance" />
                <br />
                <label>Tax Renewal Date:</label>
                <input type="date" id="vehicle1Tax" />
            </section>
            <!-- Vehicle 2 -->
            <section class="vehicle-entry data-entry">
                <h3>Kawasaki Z900</h3>
                <label>MOT Renewal Date:</label>
                <input type="date" id="vehicle2Mot" />
                <br />
                <label>Insurance Renewal Date:</label>
                <input type="date" id="vehicle2Insurance" />
                <br />
                <label>Tax Renewal Date:</label>
                <input type="date" id="vehicle2Tax" />
            </section>
            <!-- Vehicle 3 -->
            <section class="vehicle-entry data-entry">
                <h3>Yamaha Fazer</h3>
                <label>MOT Renewal Date:</label>
                <input type="date" id="vehicle3Mot" />
                <br />
                <label>Insurance Renewal Date:</label>
                <input type="date" id="vehicle3Insurance" />
                <br />
                <label>Tax Renewal Date:</label>
                <input type="date" id="vehicle3Tax" />
            </section>
        </div>
        <button onclick="saveVehicleData()" style="display: block; margin: 20px auto;">Save Vehicle Data</button>
    </div>

    <!-- Divider at the Bottom -->
    <hr class="footer-divider" />

    <script src="script.js"></script>
</body>
</html>
